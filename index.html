<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glossary</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #eee;
            font-family: system-ui;
            cursor: default;
        }

        /* Layout */
        .frame-shell {
            width: 100vw;
            margin-top: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .word-shell {
            width: 100vw;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-bottom: 10px;
        }

        .definition-shell {
            position: absolute;
            width: 20%;
            top: 0;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .left {
            margin-left: -50%;
        }

        .right {
            margin-right: -50%;
        }

        .glossary-shell {
            width: 200px;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1;
            margin-bottom: 10px;
        }

        .glossary-shell svg {
            position: absolute;
            transition: all 0.3s ease;
            filter: blur(0);
            fill: black;
        }

        .glossary-shell:hover~.definition-shell {
            opacity: 1;
        }

        .glossary-shell:hover svg {
            filter: blur(5px);
            fill: #09f;
            z-index: -1;
        }

        .glossary-shell:hover .glossary-word {
            opacity: 1;
        }

        .scroll-space {
            height: 200vh;
        }

        .progress_bar {
            position: fixed;
            height: 5px;
            width: 100%;
            background-color: #09f;
            z-index: 10;
        }

        /* Text */
        h1 {
            font-size: 2.8em;
            padding-top: 20px;
            padding-bottom: 20px;
            margin-left: 6%;
        }

        p.glossary-word {
            font-size: 1.8em;
            opacity: 0;
            transition: all 0.2s ease;
        }

        p.light-sound-word {
            font-size: 1.8em;
            transition: all 0.2s ease;
        }

        p.definition {
            font-size: 1em;
        }

        p {
            transition: all 0.2s ease;
        }

        .header-shell {
            padding-top: 80px;
            padding-right: 6%;
            width: 100vw;
            height: 100vh;
            position: fixed;
            transition: color .3s;
            display: flex;
            justify-content: flex-end;
        }

        .header-text {
            position: relative;
        }

        p.header-text-hover {
            position: relative;
            left: 0;
            transition: left 0.2s ease;
        }

        p.header-text-hover:hover {
            left: -10px;
        }

        p.header-text-hover.active {
            left: -10px;
            /* Shift 10 pixels to the left when active */
        }

        .absolute {
            position: absolute;
        }

        /* Mobile View */
        .desktop-view,
        .mobile-view {
            display: none;
        }

        @media (min-width: 501px) {
            .desktop-view {
                display: block;
            }
        }

        @media (max-width: 500px) {
            .mobile-view {
                display: block;
            }
        }

        @media (max-width: 500px) {
            .frame-shell {
                width: 100vw;
                margin-top: 100px;
                display: block;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }

            .word-shell-mobile {
                width: 200px;
                margin-left: 12%;
                position: relative;
                display: block;
                margin-bottom: 60px;
            }

            .glossary-shell-grid {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                margin-bottom: 20px;
                width: 76vw;
            }

            .mobile-grid-left {
                display: flex;
                justify-self: left;
                align-items: center;
            }

            .mobile-grid-middle {
                display: flex;
                justify-self: center;
            }

            .mobile-grid-middle:hover svg {
                filter: blur(5px);
                fill: #09f;
                z-index: -1;
            }

            .mobile-grid-middle svg {
                position: relative;
                transition: all 0.3s ease;
                filter: blur(0);
                fill: black;
            }

            .definition-shell {
                width: 300px;
                position: static;
                margin-bottom: 10px;
                opacity: 1;
            }

            p.glossary-word {
                font-size: 1.8em;
                opacity: 1;
            }

            .left {
                margin-left: 0;
            }

            .right {
                margin-right: 0;
            }

            /* Mobile Hover */
            .mobile-grid-middle.hover svg {
                filter: blur(5px);
                fill: #09f;
                z-index: -1;
            }

            .header-shell-mobile {
                width: 100vw;
                position: fixed;
                transition: color .3s;
                display: flex;
                justify-content: center;
                z-index: 9;
            }

            .header-text-mobile {
                width: 88%;
                display: grid;
                margin-top: 10px;
                grid-template-columns: repeat(3, 1fr);
            }

            .header-text-shell-mobile {
                display: flex;
                justify-self: center;
            }

            .header-blur-mobile {
                position: absolute;
                background-color: #eee;
                padding-top: 10px;
                width: 120vw;
                height: 40px;
                z-index: -1;
                filter: blur(5px);
            }

            .header-white-mobile {
                position: absolute;
                background-color: #eee;
                padding-top: 10px;
                width: 120vw;
                height: 20px;
                z-index: -2;
            }
        }
    </style>
</head>

<body>
    <!-- Desktop -->
    <div class="desktop-view">
        <div class="progress_bar progress_bar--white"></div>
        <header class="header-shell">
            <div class="header-text">
                <p class="header-text-hover" id="top-header">Top</p>
                <p class="header-text-hover" id="glossary-header">Glossary</p>
                <p class="header-text-hover" id="bottom-header">Bottom</p>
            </div>
        </header>

        <section class="top-section" id="top">
            <div class="scroll-space" style="height: 100vh;"></div>
        </section>

        <section class="glossary-section" id="glossary">
            <h1>Glossary</h1>
            <div class="frame-shell">
                <p class="left absolute light-sound-word">Light</p>
                <p class="right absolute light-sound-word">Sound</p>
            </div>
            <div class="frame-shell">
                <div class="word-shell">
                    <div class="glossary-shell">
                        <p class="glossary-word">Square</p>
                        <svg data-word="Word" xmlns="http://www.w3.org/2000/svg" width="50" height="50"
                            viewBox="0 0 50 50">
                            <rect x="0" y="0" width="50" height="50" />
                        </svg>
                    </div>
                    <div class="definition-shell left">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta facilis
                            commodi modi quia natus! Autem impedit quae a. Enim vel perspiciatis eum totam nisi
                            doloremque ut blanditiis unde aperiam amet quia, ipsum quidem eveniet libero animi aliquid
                            officia nemo velit.</p>
                    </div>
                    <div class="definition-shell right">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur adipisicing elit. Earum quisquam
                            vero, voluptatum ullam adipisci omnis illum. Deleniti, pariatur maiores autem eos error
                            exercitationem, veritatis maxime et rem similique nostrum ex eveniet fugiat cum magnam
                            provident? Maiores suscipit quisquam earum unde!</p>
                    </div>
                </div>

                <div class="word-shell">
                    <div class="glossary-shell">
                        <p class="glossary-word">Circle</p>
                        <svg data-word="Testing" xmlns="http://www.w3.org/2000/svg" width="51" height="50"
                            viewBox="0 0 51 50" fill="none">
                            <circle cx="25.3821" cy="25.0063" r="25" />
                        </svg>
                    </div>
                    <div class="definition-shell left">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati id
                            voluptates
                            minus sunt dolores earum!</p>
                    </div>
                    <div class="definition-shell right">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati id
                            voluptates
                            minus sunt dolores earum!</p>
                    </div>
                </div>

                <div class="word-shell">
                    <div class="glossary-shell">
                        <p class="glossary-word">Triangle</p>
                        <svg data-word="Real Big Word" xmlns="http://www.w3.org/2000/svg" width="58" height="50"
                            viewBox="0 0 58 50" fill="none">
                            <path d="M29.0837 0.0062561L57.9512 50.0063H0.216187L29.0837 0.0062561Z" />
                        </svg>
                    </div>
                    <div class="definition-shell left">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sint, dolore
                            nisi
                            eos
                            dolorum adipisci vero. Ducimus magnam nisi est facere?</p>
                    </div>
                    <div class="definition-shell right">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sint, dolore
                            nisi
                            eos
                            dolorum adipisci vero. Ducimus magnam nisi est facere?</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="bottom-section" id="bottom">
            <div class="scroll-space"></div>
        </section>
    </div>

    <!-- Mobile -->
    <div class="mobile-view">
        <header class="header-shell-mobile">
            <div class="header-text-mobile">
                <div class="header-text-shell-mobile">
                    <p id="top-header-mobile">Top</p>
                </div>
                <div class="header-text-shell-mobile">
                    <p id="glossary-header-mobile">Glossary</p>
                </div>
                <div class="header-text-shell-mobile">
                    <p id="bottom-header-mobile">Bottom</p>
                </div>
            </div>
            <div class="header-blur-mobile"></div>
            <div class="header-white-mobile"></div>
        </header>

        <section class="top-section-mobile" id="top">
            <div class="scroll-space" style="height: 50vh;"></div>
        </section>

        <section class="glossary-section-mobile" id="glossary">
            <h1>Glossary</h1>
            <div class="frame-shell">
                <div class="word-shell-mobile">
                    <div class="glossary-shell-grid">
                        <div class="mobile-grid-left">
                            <p class="glossary-word">Square</p>
                        </div>
                        <div class="mobile-grid-middle">
                            <svg data-word="Word" xmlns="http://www.w3.org/2000/svg" width="50" height="50"
                                viewBox="0 0 50 50">
                                <rect x="0" y="0" width="50" height="50" />
                            </svg>
                        </div>
                    </div>
                    <div class="definition-shell left">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur adipisicing elit. Soluta facilis
                            commodi modi quia natus! Autem impedit quae a. Enim vel perspiciatis eum totam nisi
                            doloremque ut blanditiis unde aperiam amet quia, ipsum quidem eveniet libero animi aliquid
                            officia nemo velit.</p>
                    </div>
                    <div class="definition-shell right">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur adipisicing elit. Porro voluptas
                            temporibus nostrum corrupti iusto aspernatur suscipit nihil vero nobis ipsam aliquid
                            perspiciatis at magni pariatur sequi exercitationem deserunt eos vel, praesentium explicabo?
                            Consectetur aspernatur a quaerat amet exercitationem voluptatibus at!</p>
                    </div>
                </div>

                <div class="word-shell-mobile">
                    <div class="glossary-shell-grid">
                        <div class="mobile-grid-left">
                            <p class="glossary-word">Circle</p>
                        </div>
                        <div class="mobile-grid-middle">
                            <svg data-word="Testing" xmlns="http://www.w3.org/2000/svg" width="51" height="50"
                                viewBox="0 0 51 50">
                                <circle cx="25.3821" cy="25.0063" r="25" />
                            </svg>
                        </div>
                    </div>
                    <div class="definition-shell left">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati id
                            voluptates
                            minus sunt dolores earum!</p>
                    </div>
                    <div class="definition-shell right">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur adipisicing elit. Obcaecati id
                            voluptates
                            minus sunt dolores earum!</p>
                    </div>
                </div>

                <div class="word-shell-mobile">
                    <div class="glossary-shell-grid">
                        <div class="mobile-grid-left">
                            <p class="glossary-word">Triangle</p>
                        </div>
                        <div class="mobile-grid-middle">
                            <svg data-word="Real Big Word" xmlns="http://www.w3.org/2000/svg" width="58" height="50"
                                viewBox="0 0 58 50">
                                <path d="M29.0837 0.0062561L57.9512 50.0063H0.216187L29.0837 0.0062561Z" />
                            </svg>
                        </div>
                    </div>
                    <div class="definition-shell left">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sint, dolore
                            nisi
                            eos
                            dolorum adipisci vero. Ducimus magnam nisi est facere?</p>
                    </div>
                    <div class="definition-shell right">
                        <p class="definition">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Sint, dolore
                            nisi
                            eos
                            dolorum adipisci vero. Ducimus magnam nisi est facere?</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="bottom-section-mobile" id="bottom">
            <div class="scroll-space"></div>
        </section>
    </div>


    <script>
        // Progress Bar 
        const progressTag = document.querySelector(".progress_bar");
        const bodyTag = document.querySelector("body");

        // put it in a function and call on load
        function updateProgressBar() {
            const pixelsScrolled = window.scrollY;
            const pageHeight = bodyTag.getBoundingClientRect().height;
            const totalScrollableDistance = pageHeight - window.innerHeight;
            const percentage = pixelsScrolled / totalScrollableDistance;
            progressTag.style.width = `${percentage * 100}%`;
        }

        updateProgressBar();
        document.addEventListener("scroll", updateProgressBar);

        // SVG hover state Mobile
        function updateHoverState() {
            const glossaryItems = document.querySelectorAll(".mobile-grid-middle");
            const viewportCenter = window.innerHeight / 2;

            let closestItem = null;
            let closestDistance = Infinity;

            glossaryItems.forEach((item) => {
                const itemRect = item.getBoundingClientRect();
                const itemCenter = itemRect.top + itemRect.height / 2;
                const distanceToCenter = Math.abs(viewportCenter - itemCenter);

                if (distanceToCenter < closestDistance) {
                    closestDistance = distanceToCenter;
                    closestItem = item;
                }

                item.classList.remove("hover");
            });

            if (closestItem) {
                closestItem.classList.add("hover");
            }
        }

        document.addEventListener("scroll", updateHoverState);
        window.addEventListener("resize", updateHoverState);
        window.addEventListener("load", updateHoverState);

        // Header Text
        const sections = document.querySelectorAll("section");
        const headers = {
            top: document.getElementById("top-header"),
            glossary: document.getElementById("glossary-header"),
            bottom: document.getElementById("bottom-header"),
        };

        const headersMobile = {
            top: document.getElementById("top-header-mobile"),
            glossary: document.getElementById("glossary-header-mobile"),
            bottom: document.getElementById("bottom-header-mobile"),
        };

        const offset = 100;

        function updateHeaders() {
            const pixelsScrolled = window.scrollY;
            sections.forEach((section) => {
                if (section.offsetTop <= pixelsScrolled + offset && section.offsetTop + section.offsetHeight > pixelsScrolled + offset) {
                    Object.values(headers).forEach((header) => {
                        header.style.color = "black";
                    });
                    headers[section.id].style.color = "#09f";

                    Object.values(headersMobile).forEach((header) => {
                        header.style.color = "black";
                    });
                    headersMobile[section.id].style.color = "#09f";
                }
            });
        }

        document.addEventListener("scroll", updateHeaders);

        // Mobile scroll on click function
        document.getElementById('top-header-mobile').addEventListener('click', function () {
            const section = document.querySelector('.top-section-mobile');
            section.scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('glossary-header-mobile').addEventListener('click', function () {
            const section = document.querySelector('.glossary-section-mobile');
            section.scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('bottom-header-mobile').addEventListener('click', function () {
            const section = document.querySelector('.bottom-section-mobile');
            section.scrollIntoView({ behavior: 'smooth' });
        });

        // Desktop scroll on click function 
        document.getElementById('top-header').addEventListener('click', function () {
            const section = document.querySelector('.top-section');
            section.scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('glossary-header').addEventListener('click', function () {
            const section = document.querySelector('.glossary-section');
            section.scrollIntoView({ behavior: 'smooth' });
        });

        document.getElementById('bottom-header').addEventListener('click', function () {
            const section = document.querySelector('.bottom-section');
            section.scrollIntoView({ behavior: 'smooth' });
        });

        // header hover 
        const headerTextHovers = document.querySelectorAll('.header-text-hover');

        headerTextHovers.forEach(headerText => {
            headerText.addEventListener('click', (event) => {
                event.stopPropagation(); 
                headerText.classList.toggle('active'); 
                setTimeout(() => {
                    headerText.classList.remove('active');
                }, 500);
            });
        });

    </script>
</body>

</html>